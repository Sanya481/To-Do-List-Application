@use "../utils/mixins" as *;

// Filter buttons
.filters {
  &__button {
    flex: 1;
    // min-width: 6rem;
    min-width: fit-content;
    background-color: white;
    border: 1px solid var(--color-light-gray);
    border-radius: var(--border-radius-md);
    padding: var(--spacing-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    cursor: pointer;
    transition: all var(--transition-normal) ease;
    font-size: 0.9rem;
    box-shadow: var(--shadow-sm);

    // Убираем стандартный outline
    outline: none;
    position: relative; // Для псевдоэлементов

    @media (max-width: 600px) {
      flex: 1 0 calc(50% - var(--spacing-sm));
    }

    // 1 Вариант
    // &:hover {
    //   background-color: color-mix(in srgb, var(--color-light) 98%, black);
    //   @include hover-effect;
    // }

    // &:focus-visible {
    //   @include focus-ring;
    // }

    // &--active {
    //   background: linear-gradient(to right, var(--color-primary), var(--color-secondary));
    //   color: white;
    //   border-color: transparent;
    //   box-shadow: var(--shadow-md);

    //   &:hover {
    //     background: linear-gradient(to right,
    //         color-mix(in srgb, var(--color-primary) 95%, black),
    //         color-mix(in srgb, var(--color-secondary) 95%, black));
    //   }
    // }


    &:hover {
      background-color: color-mix(in srgb, var(--color-light) 98%, black);
      @include hover-effect;
    }

    // Базовая стилизация фокуса
    &:focus-visible {
      &::after {
        content: '';
        position: absolute;
        inset: -3px;
        border: 2px solid var(--color-primary);
        border-radius: calc(var(--border-radius-md) + 1px);
        animation: pulse 2s infinite;
      }
    }

    // Альтернативный вариант для фокуса - градиентная обводка
    &--alt-focus:focus-visible {
      box-shadow: 0 0 0 3px var(--color-primary-light);
      background-clip: padding-box;
    }

    // Вариант с анимированным подчеркиванием
    &--underline-focus:focus-visible {
      &::before {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 3px;
        background: var(--color-primary);
        transition: width 0.3s ease;
      }

      &::before {
        width: 80%;
      }
    }

    // Для активной кнопки - другой стиль фокуса
    &--active:focus-visible {
      &::after {
        border-color: white;
        animation: pulse-white 2s infinite;
      }
    }

    &--active {
      background: linear-gradient(to right, var(--color-primary), var(--color-secondary));
      color: white;
      border-color: transparent;
      box-shadow: var(--shadow-md);

      &:hover {
        background: linear-gradient(to right,
            color-mix(in srgb, var(--color-primary) 95%, black),
            color-mix(in srgb, var(--color-secondary) 95%, black));
      }
    }
  }
}

